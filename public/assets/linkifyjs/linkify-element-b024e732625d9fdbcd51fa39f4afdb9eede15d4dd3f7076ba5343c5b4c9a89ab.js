"use strict";!function(e,t){var n=function(t){function n(e,t,n){var r=n[n.length-1];e.replaceChild(r,t);for(var i=n.length-2;i>=0;i--)e.insertBefore(n[i],r),r=n[i]}function r(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];if("nl"===o.type&&t.nl2br)r.push(n.createElement("br"));else if(o.isLink&&s.resolve(t.validate,o.toString(),o.type)){var a=o.toHref(t.defaultProtocol),u=s.resolve(t.format,o.toString(),o.type),c=s.resolve(t.formatHref,a,o.type),l=s.resolve(t.attributes,a,o.type),p=s.resolve(t.tagName,a,o.type),h=s.resolve(t.linkClass,a,o.type),d=s.resolve(t.target,a,o.type),f=s.resolve(t.events,a,o.type),m=n.createElement(p);if(m.setAttribute("href",c),m.setAttribute("class",h),d&&m.setAttribute("target",d),l)for(var g in l)m.setAttribute(g,l[g]);if(f)for(var v in f)m.addEventListener?m.addEventListener(v,f[v]):m.attachEvent&&m.attachEvent("on"+v,f[v]);m.appendChild(n.createTextNode(u)),r.push(m)}else r.push(n.createTextNode(o.toString()))}return r}function i(e,t,o){if(!e||e.nodeType!==c)throw new Error("Cannot linkify "+e+" - Invalid DOM Node type");var p=t.ignoreTags;if("A"===e.tagName||s.contains(p,e.tagName))return e;for(var h=e.firstChild;h;){switch(h.nodeType){case c:i(h,t,o);break;case l:var d=h.nodeValue,f=a(d);if(0===f.length||1===f.length&&f[0]instanceof u)break;var m=r(f,t,o);n(e,h,m),h=m[m.length-1]}h=h.nextSibling}return e}function o(t,n){var r=arguments.length<=2||void 0===arguments[2]?null:arguments[2];try{r=r||e&&e.document||global&&global.document}catch(e){}if(!r)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");return n=s.normalize(n),i(t,n,r)}var a=t.tokenize,s=t.options,u=t.parser.TOKENS.TEXT,c=1,l=3;return o.helper=i,o.normalize=s.normalize,o}(t);e.linkifyElement=n}(window,linkify);