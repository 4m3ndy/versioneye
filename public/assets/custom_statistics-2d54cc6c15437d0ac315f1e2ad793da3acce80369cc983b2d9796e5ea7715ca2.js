function getLanguageColor(e){var t={"default":"#333333",java:"#544FD6",ruby:"#DC143C",c:"#33A1C9","c++":"#104E8B","c#":"#00BFFF",groovy:"#006400",python:"#EE7600",r:"#8B7D6B",javascript:"#9ACD32","node.js":"#6B8E23",php:"#8B6914",clojure:"#999999"},n=e.toLowerCase();return _.has(t,n)?t[n]:t["default"]}function renderSummaryPlot(e,t){var n=[],r=[],i=[],o=t.sort(function(e,t){return e.value<t.value});o.forEach(function(e){n.push(e.name),r.push(e.value),i.push(getLanguageColor(e.name))});var a={labels:n,datasets:[{label:"Number of packages",data:r,backgroundColor:i}],options:{legend:{display:!1}}};new Chart(e,{type:"horizontalBar",data:a})}function renderTrendPlot(e,t){var n=[],r={r:[],"C#":[],java:[],ruby:[],python:[],nodejs:[],php:[],clojure:[],"objective-c":[]};t.forEach(function(e){n.push(reformatDate(e.date,"YYYY-MM-DD","YYYY.MM")),_.each(e,function(e,t){"date"!==t&&r[t].push(e)})});var i=[];_.each(r,function(e,t){i.push({label:t,data:e,borderColor:getLanguageColor(t)})});var o={labels:n,datasets:i};new Chart(e,{type:"line",data:o})}jQuery(document).ready(function(){jQuery("#q").tbHinter({text:"json"});var e=document.location.origin;jQuery("#plot-summary").length&&(console.log("Going to render summary plot"),jQuery.getJSON(e+"/statistics/proglangs",function(e){renderSummaryPlot($("#plot-summary"),e)})),jQuery("#plot-trends").length&&(console.log("Going to render trends container"),jQuery.getJSON(e+"/statistics/langtrends",function(e){renderTrendPlot($("#plot-trends"),e)}))});